<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CGPA Calculator</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #0a0a0f;
    --surface: #111118;
    --border: #1e1e2e;
    --accent: #c8a96e;
    --accent2: #7c6fcd;
    --text: #e8e6f0;
    --muted: #5a5870;
    --good: #5ebd8a;
    --warn: #e8a44a;
    --danger: #e86060;
  }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 16px;
    background-image: 
      radial-gradient(ellipse 80% 50% at 50% -20%, rgba(124,111,205,0.12), transparent),
      radial-gradient(ellipse 40% 40% at 80% 80%, rgba(200,169,110,0.07), transparent);
  }

  header {
    text-align: center;
    margin-bottom: 48px;
    animation: fadeDown 0.6s ease;
  }

  header h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 5vw, 3.2rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    background: linear-gradient(135deg, var(--accent), #fff 60%, var(--accent2));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  header p {
    color: var(--muted);
    font-size: 0.78rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    margin-top: 8px;
  }

  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 28px;
    width: 100%;
    max-width: 680px;
    animation: fadeUp 0.5s ease;
  }

  /* Semesters */
  .semester {
    background: rgba(255,255,255,0.02);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 16px;
    transition: border-color 0.2s;
    animation: fadeUp 0.3s ease;
  }

  .semester:hover { border-color: rgba(200,169,110,0.3); }

  .semester-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
  }

  .sem-title {
    font-family: 'Playfair Display', serif;
    font-size: 1rem;
    color: var(--accent);
    letter-spacing: 0.02em;
  }

  .del-sem {
    background: none;
    border: 1px solid rgba(232,96,96,0.3);
    color: var(--danger);
    border-radius: 8px;
    padding: 4px 10px;
    font-size: 0.7rem;
    font-family: 'DM Mono', monospace;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 0.1em;
  }

  .del-sem:hover { background: rgba(232,96,96,0.1); border-color: var(--danger); }

  /* Course rows */
  .courses { display: flex; flex-direction: column; gap: 10px; }

  .course-row {
    display: grid;
    grid-template-columns: 1fr 110px 110px auto;
    gap: 8px;
    align-items: center;
  }

  .course-row input, .course-row select {
    background: rgba(255,255,255,0.04);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text);
    font-family: 'DM Mono', monospace;
    font-size: 0.8rem;
    padding: 9px 12px;
    outline: none;
    transition: border-color 0.2s;
    width: 100%;
  }

  .course-row input:focus, .course-row select:focus {
    border-color: var(--accent2);
  }

  .course-row select option { background: #1a1a2e; }

  .del-course {
    background: none;
    border: none;
    color: var(--muted);
    cursor: pointer;
    font-size: 1.1rem;
    line-height: 1;
    padding: 6px 8px;
    border-radius: 6px;
    transition: color 0.2s;
  }

  .del-course:hover { color: var(--danger); }

  .col-labels {
    display: grid;
    grid-template-columns: 1fr 110px 110px auto;
    gap: 8px;
    margin-bottom: 6px;
  }

  .col-label {
    font-size: 0.65rem;
    color: var(--muted);
    letter-spacing: 0.12em;
    text-transform: uppercase;
    padding: 0 4px;
  }

  .add-course-btn {
    background: none;
    border: 1px dashed rgba(124,111,205,0.4);
    border-radius: 8px;
    color: var(--accent2);
    font-family: 'DM Mono', monospace;
    font-size: 0.75rem;
    padding: 8px;
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
    letter-spacing: 0.1em;
    transition: all 0.2s;
  }

  .add-course-btn:hover { background: rgba(124,111,205,0.07); border-color: var(--accent2); }

  /* Actions */
  .actions {
    display: flex;
    gap: 10px;
    margin: 20px 0;
    flex-wrap: wrap;
  }

  .btn {
    border-radius: 10px;
    font-family: 'DM Mono', monospace;
    font-size: 0.78rem;
    padding: 11px 20px;
    cursor: pointer;
    letter-spacing: 0.08em;
    transition: all 0.2s;
    border: none;
  }

  .btn-primary {
    background: linear-gradient(135deg, var(--accent2), #5a4fa0);
    color: #fff;
  }

  .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 4px 20px rgba(124,111,205,0.35); }

  .btn-secondary {
    background: rgba(200,169,110,0.1);
    border: 1px solid rgba(200,169,110,0.3);
    color: var(--accent);
  }

  .btn-secondary:hover { background: rgba(200,169,110,0.18); }

  /* Result */
  .result-box {
    background: linear-gradient(135deg, rgba(124,111,205,0.08), rgba(200,169,110,0.05));
    border: 1px solid rgba(200,169,110,0.2);
    border-radius: 14px;
    padding: 28px;
    text-align: center;
    margin-top: 8px;
    display: none;
    animation: popIn 0.4s cubic-bezier(0.175,0.885,0.32,1.275);
  }

  .result-box.show { display: block; }

  .cgpa-value {
    font-family: 'Playfair Display', serif;
    font-size: clamp(3rem, 10vw, 5rem);
    font-weight: 700;
    line-height: 1;
    background: linear-gradient(135deg, var(--accent), #fff 50%, var(--accent2));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .cgpa-label {
    color: var(--muted);
    font-size: 0.72rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    margin-top: 6px;
  }

  .stats-row {
    display: flex;
    justify-content: center;
    gap: 32px;
    margin-top: 24px;
    flex-wrap: wrap;
  }

  .stat { text-align: center; }
  .stat-val { font-size: 1.3rem; color: var(--text); font-weight: 500; }
  .stat-lbl { font-size: 0.65rem; color: var(--muted); letter-spacing: 0.15em; text-transform: uppercase; margin-top: 2px; }

  .grade-badge {
    display: inline-block;
    padding: 4px 14px;
    border-radius: 100px;
    font-size: 0.8rem;
    font-weight: 500;
    margin-top: 14px;
    letter-spacing: 0.1em;
  }

  /* Divider */
  .divider {
    border: none;
    border-top: 1px solid var(--border);
    margin: 8px 0 20px;
  }

  @keyframes fadeDown { from { opacity:0; transform:translateY(-16px); } to { opacity:1; transform:none; } }
  @keyframes fadeUp   { from { opacity:0; transform:translateY(14px); }  to { opacity:1; transform:none; } }
  @keyframes popIn    { from { opacity:0; transform:scale(0.92); }        to { opacity:1; transform:scale(1); } }

  @media (max-width: 540px) {
    .course-row { grid-template-columns: 1fr 80px 80px auto; }
    .col-labels { grid-template-columns: 1fr 80px 80px auto; }
  }
</style>
</head>
<body>

<header>
  <h1>CGPA Calculator</h1>
  <p>Cumulative Grade Point Average</p>
</header>

<div class="card" id="main">
  <div id="semesters"></div>

  <div class="actions">
    <button class="btn btn-primary" onclick="addSemester()">+ Add Semester</button>
    <button class="btn btn-secondary" onclick="calculate()">Calculate CGPA</button>
  </div>

  <hr class="divider">

  <div class="result-box" id="result">
    <div class="cgpa-value" id="cgpaVal">—</div>
    <div class="cgpa-label">Cumulative GPA</div>
    <div id="gradeBadge"></div>
    <div class="stats-row">
      <div class="stat"><div class="stat-val" id="totalCredits">—</div><div class="stat-lbl">Total Credits</div></div>
      <div class="stat"><div class="stat-val" id="totalSems">—</div><div class="stat-lbl">Semesters</div></div>
      <div class="stat"><div class="stat-val" id="totalCourses">—</div><div class="stat-lbl">Courses</div></div>
    </div>
  </div>
</div>

<script>
let semCount = 0;
let courseCounters = {};

const gradeMap = {
  'A+': 4.0, 'A': 4.0, 'A-': 3.7,
  'B+': 3.3, 'B': 3.0, 'B-': 2.7,
  'C+': 2.3, 'C': 2.0, 'C-': 1.7,
  'D+': 1.3, 'D': 1.0, 'F': 0.0
};

function addSemester() {
  semCount++;
  const id = semCount;
  courseCounters[id] = 0;
  const sems = document.getElementById('semesters');
  const div = document.createElement('div');
  div.className = 'semester';
  div.id = `sem-${id}`;
  div.innerHTML = `
    <div class="semester-header">
      <span class="sem-title">Semester ${id}</span>
      <button class="del-sem" onclick="deleteSem(${id})">remove</button>
    </div>
    <div class="col-labels">
      <span class="col-label">Course Name</span>
      <span class="col-label">Credits</span>
      <span class="col-label">Grade</span>
      <span class="col-label"></span>
    </div>
    <div class="courses" id="courses-${id}"></div>
    <button class="add-course-btn" onclick="addCourse(${id})">+ add course</button>
  `;
  sems.appendChild(div);
  addCourse(id);
  addCourse(id);
}

function addCourse(semId) {
  courseCounters[semId]++;
  const cid = courseCounters[semId];
  const courses = document.getElementById(`courses-${semId}`);
  const row = document.createElement('div');
  row.className = 'course-row';
  row.id = `course-${semId}-${cid}`;

  const gradeOptions = Object.keys(gradeMap).map(g => `<option value="${g}">${g}</option>`).join('');

  row.innerHTML = `
    <input type="text" placeholder="e.g. Data Structures" />
    <input type="number" placeholder="3" min="0.5" max="6" step="0.5" />
    <select>${gradeOptions}</select>
    <button class="del-course" title="Remove" onclick="deleteCourse('${semId}','${cid}')">×</button>
  `;
  courses.appendChild(row);
}

function deleteCourse(semId, cid) {
  const el = document.getElementById(`course-${semId}-${cid}`);
  if (el) el.remove();
}

function deleteSem(id) {
  const el = document.getElementById(`sem-${id}`);
  if (el) el.remove();
}

function calculate() {
  let totalPoints = 0, totalCredits = 0, totalCoursesCount = 0;
  const activeSems = document.querySelectorAll('.semester');

  activeSems.forEach(sem => {
    const rows = sem.querySelectorAll('.course-row');
    rows.forEach(row => {
      const inputs = row.querySelectorAll('input');
      const credits = parseFloat(inputs[1]?.value);
      const grade = row.querySelector('select')?.value;
      if (!isNaN(credits) && credits > 0 && grade in gradeMap) {
        totalPoints += credits * gradeMap[grade];
        totalCredits += credits;
        totalCoursesCount++;
      }
    });
  });

  const cgpa = totalCredits > 0 ? (totalPoints / totalCredits) : 0;
  const resultBox = document.getElementById('result');
  resultBox.classList.add('show');

  document.getElementById('cgpaVal').textContent = cgpa.toFixed(3);
  document.getElementById('totalCredits').textContent = totalCredits;
  document.getElementById('totalSems').textContent = activeSems.length;
  document.getElementById('totalCourses').textContent = totalCoursesCount;

  // Grade badge
  let label, color;
  if (cgpa >= 3.7) { label = 'Summa Cum Laude ✦'; color = '#c8a96e'; }
  else if (cgpa >= 3.3) { label = 'Magna Cum Laude'; color = '#7c6fcd'; }
  else if (cgpa >= 3.0) { label = 'Cum Laude'; color = '#5ebd8a'; }
  else if (cgpa >= 2.0) { label = 'Good Standing'; color = '#e8a44a'; }
  else if (cgpa > 0) { label = 'Needs Improvement'; color = '#e86060'; }
  else { label = 'No Data'; color = '#5a5870'; }

  const badge = document.getElementById('gradeBadge');
  badge.innerHTML = `<span class="grade-badge" style="background:${color}22;border:1px solid ${color}55;color:${color}">${label}</span>`;

  resultBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

// Init with 2 semesters
addSemester();
addSemester();
</script>
</body>
</html>
